#### 一、什么是线程安全？什么是进程？什么是线程？

wiki中的解释是：

	线程安全是编程中的术语，指某个函数、函数库在并发环境中被调用时，能够正确处理多个线程之间的共享变量，使程序功能正确完成。

需要正确理解三个概念，1.并发、2.多线程、3.共享变量。

	并发（Concurrent）：在操作系统中，指一个时间段中有好几个程序都处于已启动运行到运行完毕之间，且这几个程序都是在同一个处理机上运行。
	
	并行（Parallel）：当系统有一个以上CPU时，当一个CPU执行一个进程时，另一个CPU可以执行另一个进程，两个进程互不抢占CPU资源，可以同时进行，这种方式称为并行。
	
	进程和线程：对于操作系统来说，一个任务就是一个进程。一个进程内部，需要同时做多件事，就需要同时运行多个子任务，这些子任务称为线程。进程作为资源分配的基本单元，线程当作执行的基本单元，同一个进程的多个线程之间共享资源。
	
	共享变量：指多个线程都可以操作的变量。
	
	对于JVM来说，保存在堆和方法区的变量就是Java中的共享变量。Java中共有三种变量，类变量、成员变量、局部变量。他们分别存储在JVM的方法区、堆、栈中。

```java
public class Variables{
    //类变量
    private static int a;
    //成员变量
    private int b;
    //局部变量
    public  void test(int c){
        int d;
    }
}
```

	以上定义的三个变量中，a是类变量，b是成员变量，c和d是局部变量。多线程环境中，变量a、b是需要考虑线程安全问题的。

#### 二、并发编程中最重要的三个特征是什么？

原子性、可见性、有序性。

#### 三、并发编程中的原子性是什么？数据库的ACID的A也是原子性，这两个原子性有什么区别？

原子性是指：一个操作时不可中断的，要么全部执行，要不就都不执行。

数据库事务中，保证原子性通过事务的提交和回滚，但在并发编程中，是不涉及回滚的。所以，并发编程中的原子性，强调的是一个操作的不可分割性。

所以在并发编程中，原子性的定义不应该和事务中的原子性完全一样。他应该定义为：一段代码，或者一个变量的操作，在没有执行完之前，不能被其他线程执行。

#### 四、并发编程中的有序性是什么？如果不能保证有序性会发生什么问题？

有序性即程序执行的顺序按照代码的先后顺序执行。

Java程序中天然的有序性可以总结为：如果在本线程内观察，所有操作都是天然有序的。如果在一个线程中观察另一个线程，所有操作都是无序的。

比如i+1，可以分解为

Load i;

add 1;

Save 1;

如果这三个指令的顺序被重排，那么结果可能截然不同了。一旦不满足有序性，那么执行结果就会和预期不同。

多线程场景中，有序性需要保证多个线程执行操作，和单线程顺序执行多次结果一致。